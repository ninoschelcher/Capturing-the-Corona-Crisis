<template>
  <section id="boxmountain">
    <div class="scale"></div>
    <div id="boxes">
      <p id="top">
        <img src="../../public/assets/PakjesPunt.png" alt="" />
      </p>
      <p><img src="../../public/assets/PakjesSegment1.png" alt="" /></p>
      <p><img src="../../public/assets/PakjesSegment2.png" alt="" /></p>
      <p><img src="../../public/assets/PakjesSegment1.png" alt="" /></p>
      <p><img src="../../public/assets/PakjesSegment2.png" alt="" /></p>
      <p><img src="../../public/assets/PakjesSegment1.png" alt="" /></p>
      <p><img src="../../public/assets/PakjesSegment2.png" alt="" /></p>
      <p><img src="../../public/assets/PakjesSegment1.png" alt="" /></p>
      <p><img src="../../public/assets/PakjesSegment2.png" alt="" /></p>
      <p><img src="../../public/assets/PakjesSegment1.png" alt="" /></p>
      <p><img src="../../public/assets/PakjesSegment2.png" alt="" /></p>
      <p><img src="../../public/assets/PakjesSegment1.png" alt="" /></p>
      <p><img src="../../public/assets/PakjesSegment2.png" alt="" /></p>
      <p><img src="../../public/assets/PakjesSegment1.png" alt="" /></p>
      <p><img src="../../public/assets/PakjesSegment2.png" alt="" /></p>
      <p><img src="../../public/assets/PakjesSegment1.png" alt="" /></p>
      <p><img src="../../public/assets/PakjesSegment2.png" alt="" /></p>
      <p><img src="../../public/assets/PakjesSegment1.png" alt="" /></p>
      <p><img src="../../public/assets/PakjesSegment2.png" alt="" /></p>
      <p><img src="../../public/assets/PakjesSegment1.png" alt="" /></p>
      <p><img src="../../public/assets/PakjesSegment2.png" alt="" /></p>
      <p><img src="../../public/assets/PakjesSegment1.png" alt="" /></p>
      <p><img src="../../public/assets/PakjesSegment2.png" alt="" /></p>
      <p><img src="../../public/assets/PakjesSegment1.png" alt="" /></p>
      <p><img src="../../public/assets/PakjesSegment2.png" alt="" /></p>
      <p><img src="../../public/assets/PakjesSegment1.png" alt="" /></p>
      <p><img src="../../public/assets/PakjesSegment2.png" alt="" /></p>
      <p><img src="../../public/assets/PakjesSegment1.png" alt="" /></p>
      <p><img src="../../public/assets/PakjesSegment2.png" alt="" /></p>
      <p><img src="../../public/assets/PakjesSegment1.png" alt="" /></p>
      <p><img src="../../public/assets/PakjesSegment2.png" alt="" /></p>
      <p><img src="../../public/assets/PakjesSegment1.png" alt="" /></p>
      <p><img src="../../public/assets/PakjesSegment2.png" alt="" /></p>
      <p><img src="../../public/assets/PakjesSegment1.png" alt="" /></p>
      <p><img src="../../public/assets/PakjesSegment2.png" alt="" /></p>
      <p><img src="../../public/assets/PakjesSegment1.png" alt="" /></p>
      <p><img src="../../public/assets/PakjesSegment2.png" alt="" /></p>
      <p><img src="../../public/assets/PakjesSegment1.png" alt="" /></p>
      <p><img src="../../public/assets/PakjesSegment2.png" alt="" /></p>
      <p><img src="../../public/assets/PakjesSegment1.png" alt="" /></p>
      <p><img src="../../public/assets/PakjesSegment2.png" alt="" /></p>
      <p><img src="../../public/assets/PakjesSegment1.png" alt="" /></p>
      <p><img src="../../public/assets/PakjesSegment2.png" alt="" /></p>
      <p><img src="../../public/assets/PakjesSegment1.png" alt="" /></p>
      <p><img src="../../public/assets/PakjesSegment2.png" alt="" /></p>
      <p><img src="../../public/assets/PakjesSegment1.png" alt="" /></p>
      <p><img src="../../public/assets/PakjesSegment2.png" alt="" /></p>
      <p><img src="../../public/assets/PakjesSegment1.png" alt="" /></p>
      <p><img src="../../public/assets/PakjesSegment2.png" alt="" /></p>
      <p><img src="../../public/assets/PakjesSegment1.png" alt="" /></p>
      <p><img src="../../public/assets/PakjesSegment2.png" alt="" /></p>
      <p><img src="../../public/assets/PakjesSegment1.png" alt="" /></p>
      <p><img src="../../public/assets/PakjesSegment2.png" alt="" /></p>
      <p><img src="../../public/assets/PakjesSegment1.png" alt="" /></p>
      <p><img src="../../public/assets/PakjesSegment2.png" alt="" /></p>
      <p><img src="../../public/assets/PakjesSegment1.png" alt="" /></p>
      <p><img src="../../public/assets/PakjesSegment2.png" alt="" /></p>
      <p><img src="../../public/assets/PakjesSegment1.png" alt="" /></p>
      <p><img src="../../public/assets/PakjesSegment2.png" alt="" /></p>
      <p><img src="../../public/assets/PakjesSegment1.png" alt="" /></p>
      <p><img src="../../public/assets/PakjesSegment2.png" alt="" /></p>
      <p><img src="../../public/assets/PakjesSegment1.png" alt="" /></p>
      <p><img src="../../public/assets/PakjesSegment2.png" alt="" /></p>
      <p><img src="../../public/assets/PakjesSegment1.png" alt="" /></p>
      <p><img src="../../public/assets/PakjesSegment2.png" alt="" /></p>
      <p><img src="../../public/assets/PakjesSegment1.png" alt="" /></p>
      <div class="smallscreen">
        <p><img src="../../public/assets/PakjesSegment2.png" alt="" /></p>
        <p><img src="../../public/assets/PakjesSegment1.png" alt="" /></p>
        <p><img src="../../public/assets/PakjesSegment2.png" alt="" /></p>
        <p><img src="../../public/assets/PakjesSegment1.png" alt="" /></p>
        <p><img src="../../public/assets/PakjesSegment2.png" alt="" /></p>
        <p><img src="../../public/assets/PakjesSegment1.png" alt="" /></p>
        <p><img src="../../public/assets/PakjesSegment2.png" alt="" /></p>
        <p><img src="../../public/assets/PakjesSegment1.png" alt="" /></p>
        <p><img src="../../public/assets/PakjesSegment2.png" alt="" /></p>
        <p><img src="../../public/assets/PakjesSegment1.png" alt="" /></p>
        <p><img src="../../public/assets/PakjesSegment2.png" alt="" /></p>
        <p><img src="../../public/assets/PakjesSegment1.png" alt="" /></p>
      </div>
    </div>
    <div id="milestones">
      <img src="../../public/assets/vogel.gif" alt="bird" id="bird1" />
      <img src="../../public/assets/vogel.gif" alt="bird" id="bird2" />
      <img
        src="../../public/assets/wolken.gif"
        alt="wolken"
        id="wolken1"
        class="wolken"
      />
      <img
        src="../../public/assets/wolken.gif"
        alt="wolken"
        id="wolken2"
        class="wolken"
      />
      <img
        src="../../public/assets/wolken.gif"
        alt="wolken"
        id="wolken3"
        class="wolken"
      />

      <p data-aos="fade-right" class="milestone">
        Nou, laten we maar kijken hoeveel pakketjes postbedrijven per dag moeten
        verwerken..
      </p>
      <div id="scrollmile" data-aos="fade-right"></div>
      <div class="milestone" data-aos="fade-right">
        <p>
          Het aantal mensen dat in de bedrijfstak zorg en welzijn werkt in
          Amsterdam (2020).
        </p>
      </div>
      <div class="milestone" data-aos="fade-right">
        <p>
          Met een dooshoogte van 80cm kan je 40 Eiffeltorens stapelen met dit
          aantal dozen!
        </p>
      </div>
      <div class="milestone" data-aos="fade-right">
        <p>Denk je dat je er al bijna bent?</p>
      </div>
      <div class="milestone" data-aos="fade-right">
        <p>Het gemiddelde pakket vervoert 50% lucht. Wel zonde eigenlijk..</p>
        <img src="../../public/assets/ballon.gif" alt="floating balloon" />
      </div>
      <div class="milestone" data-aos="fade-right">
        <p>
          Het aantal vastgestelde corona besmettingen was op 1 januari 2021 óók
          800.000.
        </p>
        <img src="../../public/assets/virusgif.gif" alt="floating virus" />
      </div>
      <div class="milestone" data-aos="fade-right">
        <p>
          De 6 nullen zijn inmiddels al bereikt, het is wel een grote stapel
          zo..
        </p>
      </div>
      <div class="milestone" data-aos="fade-right">
        <p>
          Zoveel pakketjes moest PostNL nog verwerken per dag begin december.
        </p>
      </div>
      <div class="milestone" data-aos="fade-right">
        <p>
          Met een dooslengte van 40cm kan je van Groningen naar Maastricht met
          dit aantal dozen!
        </p>
      </div>
      <div class="milestone" data-aos="fade-right">
        <p>Het einde is bijna in zicht!</p>
      </div>
      <div class="milestone" data-aos="fade-right">
        <p>
          Het aantal pakketjes dat PostNL elke dag moet verwerken in December
          2020.
        </p>
      </div>
    </div>
  </section>
  <section id="animation2">
    <div id="cartrigger" v-on:click="startAnimation">
      <HandlerSvg name="car" />
    </div>
    <div class="video-container2">
      <video id="vananimation">
        <source src="../../public/assets/animatie2.mp4" type="video/mp4" />
      </video>
    </div>
    <div id="endingscreen">
      <div id="titles">
        <h2>Gerealiseerd door</h2>
        <h1>Joshua van 't Veer, Laura Goedkoop &amp; Nino Schelcher</h1>
      </div>
      <HandlerSvg name="eindscherm" />
    </div>
  </section>
</template>

<script>
import * as d3 from "d3";
import AOS from "aos";
import "aos/dist/aos.css";
import HandlerSvg from "./HandlerSvg.vue";

export default {
  name: "DozenStapel",
  components: {
    HandlerSvg,
  },
  methods: {
    startAnimation: function () {
      const secondAnimation = document.getElementById("vananimation");
      const animationtrigger = document.getElementById("cartrigger");
      const videoContainer = document.querySelector(".video-container2");
      const endingScreen = document.getElementById("endingscreen");

      secondAnimation.play();
      animationtrigger.style.opacity = "0";
      animationtrigger.style.display = "none";

      secondAnimation.addEventListener("ended", () => {
        videoContainer.style.opacity = "0";
        videoContainer.style.zIndex = "-1";

        endingScreen.style.opacity = "1";
        endingScreen.style.display = "block";
      });
    },
  },
  mounted() {
    // create svg element
    const svg = d3
      .select("#boxmountain > div")
      .append("svg")
      .attr("width", 200)
      .attr("height", 60100);

    // Create the scale
    const yScale = d3.scaleLinear().domain([1700000, 0]).range([60000, 0]);
    const yAxis = d3.axisRight(yScale).ticks(34);

    const g = svg
      .append("g")
      .style("class", "axis")
      .style("font-size", "30px")
      .attr("transform", "translate(11,60)")
      .call(yAxis);

    g.selectAll("text").attr("transform", "translate(10,0)");
  },
  created() {
    AOS.init({
      duration: 400,
      easing: "ease-in-out",
    });
  },
};
</script>

<style scoped>
#boxmountain {
  display: flex;
  position: relative;
  overflow-x: hidden;
  margin-top: 400px;
}
#boxmountain #top {
  position: relative;
  top: 6px;
}
#boxes {
  margin-left: 50px;
  height: 60120px;
  position: relative;
  overflow: hidden;
}
#boxmountain #boxes p {
  text-align: center;
}
#boxmountain p img {
  max-width: 80%;
  margin-right: 0;
}

#boxmountain p:not(#top) img {
  vertical-align: middle;
  position: relative;
}

.smallscreen {
  display: none;
}

#milestones {
  position: relative;
  width: 50%;
}

.milestone {
  font-weight: bold;
  font-size: 2em;
  margin: 0 auto;
  max-width: 50%;
  text-align: left;
  position: absolute;
  left: 250px;
}

#milestones img {
  max-width: 60%;
  margin-left: 80px;
  margin-top: 20px;
}

#milestones div:first-of-type {
  top: 50px;
}

#milestones div:nth-of-type(2) {
  top: 1770px;
}

#milestones div:nth-of-type(3) {
  top: 5300px;
}

#milestones div:nth-of-type(4) {
  top: 10610px;
}

#milestones div:nth-of-type(5) {
  top: 21170px;
}
#milestones div:nth-of-type(6) {
  top: 28230px;
}

#milestones div:nth-of-type(7) {
  top: 35300px;
}

#milestones div:nth-of-type(8) {
  top: 42370px;
}
#milestones div:nth-of-type(9) {
  top: 49400px;
}
#milestones div:nth-of-type(10) {
  top: 52970px;
}
#milestones div:nth-of-type(11) {
  top: 59940px;
}

#bird1 {
  position: absolute;
  top: 13945px;
  max-width: 1200px !important;
  left: -330px;
  overflow: hidden;
  z-index: -1;
}

#bird2 {
  position: absolute;
  top: 45000px;
  max-width: 1200px !important;
  left: -330px;
  overflow: hidden;
  z-index: -1;
}

.wolken {
  position: absolute;
  max-width: 1010px !important;
  overflow: hidden;
  margin-left: -65px !important;
  z-index: -1;
}

#wolken1 {
  top: 500px;
}

#wolken2 {
  top: 30000px;
}

#wolken3 {
  top: 40000px;
}

#animation2 {
  position: relative;
  height: 100vh;
  background-color: #fff;
}

#scrollmile,
#scrollmile:after {
  position: absolute;
  left: 20%;
  top: 100px;
}

#scrollmile {
  width: 40px;
  height: 70px;
  margin-left: -20px;
  margin-top: -35px;
  box-shadow: inset 0 0 0 2px #000;
  border-radius: 25px;
}

#scrollmile:after {
  content: "";
  width: 8px;
  height: 8px;
  background: #000;
  margin-left: 8px;
  top: 8px;
  border: 1px solid #000;
  border-radius: 4px;
  animation-duration: 1.5s;
  animation-iteration-count: infinite;
  animation-name: scroll;
}

@keyframes scroll {
  0% {
    opacity: 1;
  }
  100% {
    opacity: 0;
    transform: translateY(46px);
  }
}

.video-container2 {
  position: absolute;
  top: 0;
  bottom: 0;
  width: 100%;
  height: 100%;
  overflow: hidden;
  opacity: 1;
  z-index: 1;
}
.video-container2 video {
  min-width: 100%;
  min-height: 100%;
  width: 100% !important;
  height: auto !important;
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  background-color: #fff;
}

#cartrigger {
  position: absolute;
  z-index: 999;
  transition: 0.5s opacity;
  left: 65%;
  top: 35%;
  font-family: "sofia-pro";
  font-weight: bold;
  font-size: 3em;
  cursor: pointer;
  outline: none;
}

#endingscreen {
  opacity: 0;
  height: 100vh;
  overflow: hidden;
  transition: 1s opacity;
}

#titles {
  transform: translate(5%, 45%);
  font-family: "Mont Heavy";
}

#endingscreen h1 {
  font-size: 4em;
  max-width: 50%;
}

#endingscreen h2 {
  font-size: 3em;
  font-weight: 400;
}

@media only screen and (max-width: 1440px) {
  p img {
    max-width: 70%;
  }

  #animation2 {
    height: 802px;
  }

  .smallscreen {
    display: block;
  }

  #boxes {
    margin-left: -60px;
  }

  .milestone {
    left: 120px;
    font-size: 1.7em;
    max-width: 60%;
  }

  #scrollmile,
  #scrollmile:after {
    left: 10%;
  }

  #bird {
    position: absolute;
    top: 13885px;
    max-width: 910px !important;
    left: -275px;
    overflow: hidden;
    z-index: -1;
  }

  #endingscreen h2 {
    font-size: 2em;
  }
  #endingscreen h1 {
    font-size: 3.5em;
  }
}
</style>
